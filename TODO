We then decouple the simulation state from the simulation type and the gui.

